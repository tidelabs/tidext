<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Subxt is a library to submit extrinsics to a substrate node via RPC."><meta name="keywords" content="rust, rustlang, rust-lang, subxt"><title>subxt - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../subxt/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../subxt/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate subxt</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.23.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#attributes">Attribute Macros</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Crate <a class="mod" href="#">subxt</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/subxt/lib.rs.html#5-186">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Subxt is a library to <strong>sub</strong>mit e<strong>xt</strong>rinsics to a <a href="https://github.com/paritytech/substrate">substrate</a> node via RPC.</p>
<p>The generated Subxt API exposes the ability to:</p>
<ul>
<li><a href="https://docs.substrate.io/v3/concepts/extrinsics/">Submit extrinsics</a> (Calls)</li>
<li><a href="https://docs.substrate.io/v3/runtime/storage/">Query storage</a> (Storage)</li>
<li><a href="https://docs.substrate.io/how-to-guides/v3/basics/configurable-constants/">Query constants</a> (Constants)</li>
<li><a href="https://docs.substrate.io/v3/runtime/events-and-errors/">Subscribe to events</a> (Events)</li>
</ul>
<h2 id="initializing-the-api-client"><a href="#initializing-the-api-client">Initializing the API client</a></h2>
<p>To interact with a node, you’ll need to construct a client.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>subxt::{OnlineClient, PolkadotConfig};

<span class="kw">let </span>api = OnlineClient::&lt;PolkadotConfig&gt;::new().<span class="kw">await</span>.unwrap();</code></pre></div>
<p>This default client connects to a locally running node, but can be configured to point anywhere.
Additionally, an <a href="client/struct.OfflineClient.html" title="crate::OfflineClient"><code>crate::OfflineClient</code></a> is available to perform operations that don’t require a
network connection to a node.</p>
<p>The client takes a type parameter, here <a href="config/type.PolkadotConfig.html" title="crate::PolkadotConfig"><code>crate::PolkadotConfig</code></a>, which bakes in assumptions about
the structure of extrinsics and the underlying types used by the node for things like block numbers.
If the node you’d like to interact with deviates from Polkadot or the default Substrate node in these
areas, you’ll need to configure them by implementing the <a href="config/trait.Config.html" title="crate::config::Config"><code>crate::config::Config</code></a> type yourself.</p>
<h2 id="generating-runtime-types"><a href="#generating-runtime-types">Generating runtime types</a></h2>
<p>Subxt can optionally generate types at compile time to help you interact with a node. These types are
generated using metadata which can be downloaded from a node using the <a href="https://crates.io/crates/subxt-cli">subxt-cli</a>
tool. These generated types provide a degree of type safety when interacting with a node that is compatible with
the metadata that they were generated using. We also do runtime checks in case the node you’re talking to has
deviated from the types you’re using to communicate with it (see below).</p>
<p>To generate the types, use the <code>subxt</code> macro and point it at the metadata you’ve downloaded, like so:</p>

<div class="example-wrap ignore"><div class='tooltip'>ⓘ</div><pre class="rust rust-example-rendered"><code><span class="attr">#[subxt::subxt(runtime_metadata_path = <span class="string">&quot;metadata.scale&quot;</span>)]
</span><span class="kw">pub mod </span>node_runtime { }</code></pre></div>
<p>For more information, please visit the <a href="https://docs.rs/subxt-codegen/latest/subxt_codegen/">subxt-codegen</a>
documentation.</p>
<p>You can opt to skip this step and use dynamic queries to talk to nodes instead, which can be useful in some cases,
but doesn’t provide any type safety.</p>
<h2 id="interacting-with-the-api"><a href="#interacting-with-the-api">Interacting with the API</a></h2>
<p>Once instantiated, a client exposes four core functions:</p>
<ul>
<li><code>.tx()</code> for submitting extrinsics/transactions. See <a href="tx/struct.TxClient.html" title="crate::tx::TxClient"><code>crate::tx::TxClient</code></a> for more details, or see
the <a href="../examples/examples/balance_transfer.rs">balance_transfer</a> example.</li>
<li><code>.storage()</code> for fetching and iterating over storage entries. See <a href="storage/struct.StorageClient.html" title="crate::storage::StorageClient"><code>crate::storage::StorageClient</code></a> for more details, or see
the <a href="../examples/examples/fetch_staking_details.rs">fetch_staking_details</a> example.</li>
<li><code>.constants()</code> for getting hold of constants. See <a href="constants/struct.ConstantsClient.html" title="crate::constants::ConstantsClient"><code>crate::constants::ConstantsClient</code></a> for more details, or see
the <a href="../examples/examples/fetch_constants.rs">fetch_constants</a> example.</li>
<li><code>.events()</code> for subscribing/obtaining events. See <a href="events/struct.EventsClient.html" title="crate::events::EventsClient"><code>crate::events::EventsClient</code></a> for more details, or see:
<ul>
<li><a href="../examples/examples/subscribe_all_events.rs">subscribe_all_events</a>: Subscribe to events emitted from blocks.</li>
<li><a href="../examples/examples/subscribe_one_event.rs">subscribe_one_event</a>: Subscribe and filter by one event.</li>
<li><a href="../examples/examples/subscribe_some_events.rs">subscribe_some_events</a>: Subscribe and filter event.</li>
</ul>
</li>
</ul>
<h2 id="static-metadata-validation"><a href="#static-metadata-validation">Static Metadata Validation</a></h2>
<p>If you use types generated by the <a href="attr.subxt.html" title="crate::subxt"><code>crate::subxt</code></a> macro, there is a chance that they will fall out of sync
with the actual state of the node you’re trying to interact with.</p>
<p>When you attempt to use any of these static types to interact with a node, Subxt will validate that they are
still compatible and issue an error if they have deviated.</p>
<p>Additionally, you can validate that the entirety of the statically generated code aligns with a node like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>subxt::{OnlineClient, PolkadotConfig};

<span class="attr">#[subxt::subxt(runtime_metadata_path = <span class="string">&quot;../artifacts/polkadot_metadata.scale&quot;</span>)]
</span><span class="kw">pub mod </span>polkadot {}

<span class="kw">let </span>api = OnlineClient::&lt;PolkadotConfig&gt;::new().<span class="kw">await</span>.unwrap();

<span class="kw">if let </span><span class="prelude-val">Err</span>(_e) = polkadot::validate_codegen(<span class="kw-2">&amp;</span>api) {
    <span class="macro">println!</span>(<span class="string">&quot;Generated code is not up to date with node we&#39;re connected to&quot;</span>);
}</code></pre></div>
<h3 id="opting-out-of-static-validation"><a href="#opting-out-of-static-validation">Opting out of static validation</a></h3>
<p>The static types that are used to query/access information are validated by default, to make sure that they are
compatible with the node being queried. You can generally call <code>.unvalidated()</code> on these static types to
disable this validation.</p>
<h2 id="runtime-updates"><a href="#runtime-updates">Runtime Updates</a></h2>
<p>The node you’re connected to may occasionally perform runtime updates while you’re connected, which would ordinarily
leave the runtime state of the node out of sync with the information Subxt requires to do things like submit
transactions.</p>
<p>If this is a concern, you can use the <code>UpdateClient</code> API to keep the <code>RuntimeVersion</code> and <code>Metadata</code> of the client
synced with the target node.</p>
<p>Please visit the <a href="../examples/examples/subscribe_runtime_updates.rs">subscribe_runtime_updates</a> example for more details.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left import-item" id="reexport.Config"><code>pub use crate::config::<a class="trait" href="config/trait.Config.html" title="trait subxt::config::Config">Config</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.PolkadotConfig"><code>pub use crate::config::<a class="type" href="config/type.PolkadotConfig.html" title="type subxt::config::PolkadotConfig">PolkadotConfig</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.SubstrateConfig"><code>pub use crate::config::<a class="enum" href="config/enum.SubstrateConfig.html" title="enum subxt::config::SubstrateConfig">SubstrateConfig</a>;</code></div></div><div class="item-row"><div class="item-left import-item" id="reexport.Error"><code>pub use crate::error::<a class="enum" href="error/enum.Error.html" title="enum subxt::error::Error">Error</a>;</code></div></div></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="client/index.html" title="subxt::client mod">client</a></div><div class="item-right docblock-short">This module provides two clients that can be used to work with
transactions, storage and events. The <a href="client/struct.OfflineClient.html" title="OfflineClient"><code>OfflineClient</code></a> works
entirely offline and can be passed to any function that doesn’t
require network access. The <a href="client/struct.OnlineClient.html" title="OnlineClient"><code>OnlineClient</code></a> requires network
access.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="config/index.html" title="subxt::config mod">config</a></div><div class="item-right docblock-short">This module provides a <a href="config/trait.Config.html" title="Config"><code>Config</code></a> type, which is used to define various
types that are important in order to speak to a particular chain.
<a href="config/enum.SubstrateConfig.html" title="SubstrateConfig"><code>SubstrateConfig</code></a> provides a default set of these types suitable for the
default Substrate node implementation, and <a href="config/type.PolkadotConfig.html" title="PolkadotConfig"><code>PolkadotConfig</code></a> for a
Polkadot node.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="constants/index.html" title="subxt::constants mod">constants</a></div><div class="item-right docblock-short">Types associated with accessing constants.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="dynamic/index.html" title="subxt::dynamic mod">dynamic</a></div><div class="item-right docblock-short">This module provides the entry points to create dynamic
transactions, storage and constant lookups.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="error/index.html" title="subxt::error mod">error</a></div><div class="item-right docblock-short">Types representing the errors that can be returned.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="events/index.html" title="subxt::events mod">events</a></div><div class="item-right docblock-short">This module exposes the types and such necessary for working with events.
The two main entry points into events are <a href="client/struct.OnlineClient.html#method.events" title="crate::OnlineClient::events()"><code>crate::OnlineClient::events()</code></a>
and calls like <a href="tx/struct.TxProgress.html#method.wait_for_finalized_success" title="crate::tx::TxProgress::wait_for_finalized_success()">crate::tx::TxProgress::wait_for_finalized_success()</a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="ext/index.html" title="subxt::ext mod">ext</a></div><div class="item-right docblock-short">Re-export external crates that are made use of in the subxt API.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="metadata/index.html" title="subxt::metadata mod">metadata</a></div><div class="item-right docblock-short">Types representing the metadata obtained from a node.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="rpc/index.html" title="subxt::rpc mod">rpc</a></div><div class="item-right docblock-short">RPC types and client for interacting with a substrate node.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="storage/index.html" title="subxt::storage mod">storage</a></div><div class="item-right docblock-short">Types associated with accessing and working with storage items.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="tx/index.html" title="subxt::tx mod">tx</a></div><div class="item-right docblock-short">Create signed or unsigned extrinsics.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="utils/index.html" title="subxt::utils mod">utils</a></div><div class="item-right docblock-short">Miscellaneous utility helpers.</div></div></div><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.rpc_params.html" title="subxt::rpc_params macro">rpc_params</a></div><div class="item-right docblock-short">Create some <a href="rpc/struct.RpcParams.html" title="RpcParams"><code>RpcParams</code></a> to pass to our <a href="rpc/struct.RpcClient.html" title="RpcClient"><code>RpcClient</code></a>. <a href="rpc/struct.RpcParams.html" title="RpcParams"><code>RpcParams</code></a>
simply enforces that parameters handed to our <a href="rpc/struct.RpcClient.html" title="RpcClient"><code>RpcClient</code></a> methods
are the correct shape.</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CallData.html" title="subxt::CallData struct">CallData</a></div><div class="item-right docblock-short">Decoded call data and associated type information.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Decoder.html" title="subxt::Decoder struct">Decoder</a></div><div class="item-right docblock-short">Decoder</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DecoderBuilder.html" title="subxt::DecoderBuilder struct">DecoderBuilder</a></div><div class="item-right docblock-short">Pallet name</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Extrinsic.html" title="subxt::Extrinsic struct">Extrinsic</a></div><div class="item-right docblock-short">The result of successfully decoding an extrinsic.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Metadata.html" title="subxt::Metadata struct">Metadata</a></div><div class="item-right docblock-short">A representation of the runtime metadata received from a node.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.OfflineClient.html" title="subxt::OfflineClient struct">OfflineClient</a></div><div class="item-right docblock-short">A client that is capable of performing offline-only operations.
Can be constructed as long as you can populate the required fields.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.OnlineClient.html" title="subxt::OnlineClient struct">OnlineClient</a></div><div class="item-right docblock-short">A client that can be used to perform API calls (that is, either those
requiriing an <a href="client/trait.OfflineClientT.html" title="OfflineClientT"><code>OfflineClientT</code></a> or those requiring an <a href="client/trait.OnlineClientT.html" title="OnlineClientT"><code>OnlineClientT</code></a>).</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PalletMetadata.html" title="subxt::PalletMetadata struct">PalletMetadata</a></div><div class="item-right docblock-short">Metadata for a specific pallet.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PathKey.html" title="subxt::PathKey struct">PathKey</a></div><div class="item-right docblock-short">Path key</div></div></div><h2 id="attributes" class="small-section-header"><a href="#attributes">Attribute Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="attr" href="attr.subxt.html" title="subxt::subxt attr">subxt</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="subxt" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.1 (d5a82bbd2 2023-02-07)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>