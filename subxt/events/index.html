<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module exposes the ability to work with events generated by a given block. Subxt can either attempt to statically decode events into known types, or it can hand back details of the raw event without knowing what shape its contents are (this may be useful if we don’t know what exactly we’re looking for)."><meta name="keywords" content="rust, rustlang, rust-lang, events"><title>subxt::events - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../subxt/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../subxt/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module events</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section><div id="sidebar-vars" data-name="events" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../subxt/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">subxt</a>::<wbr><a class="mod" href="#">events</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/subxt/events/mod.rs.html#17-121">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module exposes the ability to work with events generated by a given block.
Subxt can either attempt to statically decode events into known types, or it
can hand back details of the raw event without knowing what shape its contents
are (this may be useful if we don’t know what exactly we’re looking for).</p>
<p>This module is wrapped by the generated API in <code>RuntimeAPI::EventsApi</code>.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2><h3 id="subscribe-to-all-events"><a href="#subscribe-to-all-events">Subscribe to all events</a></h3>
<p>Users can subscribe to all emitted events from blocks using <code>subscribe()</code>.</p>
<p>To subscribe to all events from just the finalized blocks use <code>subscribe_finalized()</code>.</p>
<p>To obtain the events from a given block use <code>at()</code>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">events</span> <span class="op">=</span> <span class="ident">api</span>.<span class="ident">events</span>().<span class="ident">subscribe</span>().<span class="kw">await</span>.<span class="ident">unwrap</span>();

<span class="kw">while</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">ev</span>) <span class="op">=</span> <span class="ident">events</span>.<span class="ident">next</span>().<span class="kw">await</span> {
    <span class="comment">// Obtain all events from this block.</span>
    <span class="kw">let</span> <span class="ident">ev</span>: <span class="ident">subxt::Events</span><span class="op">&lt;</span><span class="kw">_</span>, <span class="kw">_</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">ev</span>.<span class="ident">unwrap</span>();
    <span class="comment">// Print block hash.</span>
    <span class="macro">println!</span>(<span class="string">&quot;Event at block hash {:?}&quot;</span>, <span class="ident">ev</span>.<span class="ident">block_hash</span>());
    <span class="comment">// Iterate over all events.</span>
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">iter</span> <span class="op">=</span> <span class="ident">ev</span>.<span class="ident">iter</span>();
    <span class="kw">while</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">event_details</span>) <span class="op">=</span> <span class="ident">iter</span>.<span class="ident">next</span>() {
        <span class="macro">println!</span>(<span class="string">&quot;Event details {:?}&quot;</span>, <span class="ident">event_details</span>);
    }
}</code></pre></div>
<h3 id="filter-events"><a href="#filter-events">Filter events</a></h3>
<p>The subxt exposes the ability to filter events via the <code>filter_events()</code> function.</p>
<p>The function filters events from the provided tuple. If 1-tuple is provided, the events are
returned directly. Otherwise, we’ll be given a corresponding tuple of <code>Option</code>’s, with exactly
one variant populated each time.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>
<span class="attribute">#[<span class="ident">subxt::subxt</span>(<span class="ident">runtime_metadata_path</span> <span class="op">=</span> <span class="string">&quot;../artifacts/polkadot_metadata.scale&quot;</span>)]</span>
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">polkadot</span> {}


<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">transfer_events</span> <span class="op">=</span> <span class="ident">api</span>
    .<span class="ident">events</span>()
    .<span class="ident">subscribe</span>()
    .<span class="kw">await</span>
    .<span class="ident">unwrap</span>()
    .<span class="ident">filter_events</span>::<span class="op">&lt;</span>(<span class="ident">polkadot::balances::events::Transfer</span>,)<span class="op">&gt;</span>();

<span class="kw">while</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">transfer_event</span>) <span class="op">=</span> <span class="ident">transfer_events</span>.<span class="ident">next</span>().<span class="kw">await</span> {
    <span class="macro">println!</span>(<span class="string">&quot;Balance transfer event: {transfer_event:?}&quot;</span>);
}</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EventDetails.html" title="subxt::events::EventDetails struct">EventDetails</a></div><div class="item-right docblock-short"><p>A decoded event and associated details.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EventSubscription.html" title="subxt::events::EventSubscription struct">EventSubscription</a></div><div class="item-right docblock-short"><p>A subscription to events that implements <a href="../../futures_core/stream/trait.Stream.html" title="Stream"><code>Stream</code></a>, and returns <a href="struct.Events.html" title="Events"><code>Events</code></a> objects for each block.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Events.html" title="subxt::events::Events struct">Events</a></div><div class="item-right docblock-short"><p>A collection of events obtained from a block, bundled with the necessary
information needed to decode and iterate over them.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FilterEvents.html" title="subxt::events::FilterEvents struct">FilterEvents</a></div><div class="item-right docblock-short"><p>A stream which filters events based on the <code>Filter</code> param provided.
If <code>Filter</code> is a 1-tuple of a single <code>Event</code> type, it will return every
instance of that event as it’s found. If <code>filter</code> is <code>tuple of multiple</code>Event<code>types, it will return a corresponding tuple of</code>Option<code>s, where exactly one of these will be </code>Some(event)` each iteration.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FilteredEventDetails.html" title="subxt::events::FilteredEventDetails struct">FilteredEventDetails</a></div><div class="item-right docblock-short"><p>This is returned from the <a href="struct.FilterEvents.html" title="FilterEvents"><code>FilterEvents</code></a> impl of <a href="../../futures_core/stream/trait.Stream.html" title="Stream"><code>Stream</code></a>. It contains
some type representing an event we’ve filtered on, along with couple of additional
pieces of information about that event.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RawEventDetails.html" title="subxt::events::RawEventDetails struct">RawEventDetails</a></div><div class="item-right docblock-short"><p>The raw bytes for an event with associated details about
where and when it was emitted.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.EventFilter.html" title="subxt::events::EventFilter trait">EventFilter</a></div><div class="item-right docblock-short"><p>This trait is implemented for tuples of Event types; any such tuple (up to size 8) can be
used to filter an event subscription to return only the specified events.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.DecodedValue.html" title="subxt::events::DecodedValue type">DecodedValue</a></div><div class="item-right docblock-short"><p>A Value which has been decoded from some raw bytes.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="subxt" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0 (fe5b13d68 2022-05-18)" ></div>
</body></html>